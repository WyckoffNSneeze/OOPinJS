<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>OOPinJS</title>

	<script src="libraries/p5.js"></script>
	<script src="libraries/p5.dom.js"></script>
	<script src="libraries/p5.sound.js"></script>
	<!--<script src="sketch.js"></script>-->
	<script>
	var score = 0;
	var timer = 35;
	
		class Bubble
		{
			constructor(x, y, rad)
			{
				this.rad = rad;
				this.acc = new p5.Vector(0,0);
				this.vel = new p5.Vector(random(-3, 2),random(-6,-9));
				this.pos = new p5.Vector(x, y);
			}
			
			show()
			{
				stroke(255);
				strokeWeight(3);
				noFill();
				ellipse(this.pos.x, this.pos.y, this.rad, this.rad);
			}
			
			move()
			{
				this.vel.add(this.acc);
				this.pos.add(this.vel);
				this.acc.mult(0);
			}
			
			clicked()
			{
				var d = dist(mouseX, mouseY, this.pos.x, this.pos.y)
				if(d < this.rad)
				{
					console.log("click");
				}
			}
			
			applyForce(force)
			{
				this.acc.add(force);
			}
		}
		
		
		
		var bubbles = [];
		function setup()
		{
			createCanvas(1920, 1080);
			for(var i = 0; i < 1; i++)
			{
				var x = 1000 + 50 * i;
				bubbles[i] = new Bubble(x, x, (i + 1) * 25)
			}
		}
		
		function draw()
		{	
			background(0);
			for(var i = 0; i < bubbles.length; i++)
			{
				bubbles[i].applyForce(new p5.Vector(random(-.01, .06), 0));
				bubbles[i].move();
				bubbles[i].show();
			}
			
			if(timer <= 0)
			{
				bubbles.push(new Bubble(random(0, windowWidth - 60), 1000, random(60, 90)));
				timer = 35;
			}
			else
			{
				timer--;
			}
		}
		
		function mousePressed()
		{
			for(var i = 0; i < bubbles.length; i++)
			{
				bubbles[i].clicked();
			}
		}
		
	</script>
</head>
<body>
</body>
</html>